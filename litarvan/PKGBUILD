# Maintainer: Kyle Laker <kyle+aur at laker dot email>
# Contributor: Filipe La√≠ns (FFY00) <lains@archlinux.org>
_basepkg="victory-lightdm-litarvan"
pkgname="victory-lightdm-litarvan-git"
#pkgname=lightdm-webkit-theme-litarvan
pkgver=1.0
pkgrel=1
pkgdesc='Modern and full-featured LightDM theme'
arch=('any')
#_github="github.com/Litarvan/$_basepkg"
url="https://github.com/Vicck-tech/victory-lightdm-litarvan"
license=('BSD')
depends=('lightdm-webkit2-greeter' 'Lightdm')
conflicts=("lightdm-webkit-theme-litarvan")
provides=("$_basepkg")
makedepends=('git' 'npm')
source=("$_basepkg::git+https://github.com/Vicck-tech/victory-lightdm-litarvan")
sha512sums=('SKIP')

pkgver() {
    cd "$pkgname"
    git describe --long --tags | sed 's/^v//;s/\([^-]*-g\)/r\1/;s/-/./g'
}

build() {
    cd "$pkgname"
    ./build.sh
}

package() {
    cd "$pkgname/dist"

    install -dm 755 "$pkgdir"/usr/share/lightdm-webkit/themes/litarvan
    cp -r --no-preserve=ownership * "$pkgdir"/usr/share/lightdm-webkit/themes/litarvan/

    install -Dm 644 LICENSE "$pkgdir"/usr/share/licenses/$pkgname/LICENSE
}
